version: "1"

nodes:
  - id: setup
    name: Setup
    description: Initial setup
    type: automatic
    steps:
      - id: step1
        name: Setup Step
        commands:
          - echo "Setting up environment"

  - id: process-regions
    name: Process Regions
    description: Process different regions
    type: automatic
    trigger:
      type: manual
    depends_on:
      - setup
    strategy:
      type: matrix
      values:
        - region: us-east
        - region: us-west
        - region: eu-central
    steps:
      - id: process
        name: Process Region
        commands:
          - echo "Processing region $region"

  - id: finalize
    name: Finalize
    description: Finalize processing
    type: automatic
    depends_on:
      - process-regions
    steps:
      - id: step1
        name: Finalize Step
        commands:
          - echo "Finalizing processing"
