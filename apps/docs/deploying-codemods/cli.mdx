---
title: 'CLI'
description: 'Get started with using the Codemod command-line interface.'
icon: 'terminal'
---

<img
	className="block dark:hidden"
	src="/images/deploying-codemods/cli/hero-light.svg"
	alt="Codemod CLI hero banner"
/>

<img
	className="hidden dark:block"
	src="/images/deploying-codemods/cli/hero-dark.svg"
	alt="Codemod CLI hero banner"
/>

The Codemod command-line interface (CLI) allows you to interact with the Codemod platform using a terminal or through an automated system.

The Codemod CLI accepts a variety of subcommands and options to explore, publish, and run codemods.

<Note>The Codemod CLI requires Node.js v16+.</Note>

## Installation

```bash
npm i -g codemod
```

## List available codemods

The `list` command can be used to list the codemods available in the Codemod Registry and optionally search for a specific codemod by its name or tags.

```bash
codemod ls [search query]
```

<Note>
  The `list` command has aliases `ls`, and `search` which can be used similarly.
</Note>

## Running codemods

By default, when specifying a codemod name (any name that is not reserved by a command, such as `search`), the CLI will attempt to run this codemod.

```bash
codemod [codemod name]
```

<AccordionGroup>
<Accordion title="Example">
  <Steps>
  <Step title="Go to project directory">
    Make sure you are in the project directory to avoid running the codemod over the wrong directory on your machine.
  </Step>
  <Step title="List available codemods">
    Run `codemod list` to see all available codemods in the Codemod Registry.
  </Step>
  <Step title="Run codemod">
    In this example, we will run the `next/13/app-router-recipe` codemod.

    To do so, we will run:

    ```bash
    codemod next/13/app-router-recipe
    ```

  </Step>
</Steps>
</Accordion>

</AccordionGroup>

### Available options:

The following options can be used to change the default behavior of the Codemod CLI.

<ResponseField name="--include (-i)" type="glob pattern" default="Defined by the codemod engine">
  Can be used to override the files to be targeted by the codemod.

```bash
codemod [codemod name] -i "[glob pattern]"
```

</ResponseField>

<ResponseField name="--exclude (-e)" type="glob pattern" default="**/node_modules/**/*.*">
  While running a codemod, you may want to prevent changes from occurring to specific parts of your project. The `--exclude` option can be used to specify a glob pattern of the files to be ignored by the codemod.

```bash
codemod [codemod name] -e "[glob pattern]"
```

</ResponseField>

<ResponseField name="--target (-t)" type="string">
  Can be used to specify the directory of your project that the CLI should target while running codemods. This option is set as the current directory by default.

```bash
codemod [codemod name] -t [path]
```

</ResponseField>

<ResponseField name="--source (-s)" type="string">
  Can be used to specify the path to the codemod package folder stored locally that you want to run using the Codemod CLI.

```bash
codemod -s [path]
```

  <Note>
  By default, codemod engine gets that was used to build a codemod is defined using `.codemodrc.json`
  file in a codemod package directory. However, if you attempt to run a local codemod using just a file
  with exported transform function, you would need to specify the codemod engine your codemod uses.
  You can do so by using the `--engine` option.
  See example below:

  ```bash
    codemod --source [path] --engine jscodeshift
  ```
  </Note>
</ResponseField>

<ResponseField name="--raw (-r)" type="boolean" default="false">
  Can be used to disable prettier formatting to the files affected by the codemod.

```bash
codemod [codemod name] --raw
```

</ResponseField>

<ResponseField name="--no-cache" type="boolean" default="false">
  Can be used to disable caching downloaded codemod files.

```bash
codemod [codemod name] --no-cache
```

  <Tip>Disabling cache can ensure you are getting the freshest results. While keeping the cache enabled can help you save bandwidth and time for repetitive use of the same codemods.</Tip>
</ResponseField>

<ResponseField name="--skip-install" type="boolean" default="false">
  Can be used to disable dependencies installation after codemod run.

```bash
codemod [codemod name] --skip-install
```

  <Tip>Some codemods can have optional `deps` configuration field in `.codemodrc.json`.
  This field might include dependencies that this codemod suggests to remove/add.
  This option is provided so that codemod users can disable that behavior and handle dependency upgrades manually.</Tip>
</ResponseField>

<ResponseField name="--json (-j)" type="boolean" default="false">
  Can be used to switch the CLI responses to JSON format.

```bash
codemod [codemod name] --json
```

</ResponseField>

<ResponseField name="--threads (-n)" type="number" default="4">
  Can be used to specify the number of worker threads the CLI uses while running codemods.

```bash
codemod [codemod name] -n [number of threads]
```

</ResponseField>

<ResponseField name="--dry (-d)" type="boolean" default="false">
  Can be used to switch to dry run mode. Dry running codemods helps you see the changes the codemod will make without affecting the project files.

```bash
codemod [codemod name] --dry
```

</ResponseField>

<ResponseField name="--telemetryDisable" type="boolean" default="false">
  Can be used to disable CLI telemetry data collection.

```bash
codemod [codemod name] --telemetryDisable [true/false]
```

</ResponseField>

<ResponseField name="--help">
  Can be used to show a list of all available commands and options for Codemod CLI.

```bash
codemod --help
```

</ResponseField>

<ResponseField name="--version">
  Can be used to show the currently active version of Codemod CLI.

```bash
codemod --version
```

</ResponseField>

## Generate codemod from file diff

The `learn` command can be used to send the diff of the latest edited file to Codemod Studio and have it automatically build an explainable and debuggable codemod.

After running this command, if any git diff exists, the Codemod Engine will use the diff as before/after snippets in [Codemod Studio](/codemod-studio/quickstart).

```bash
codemod learn
```

<video
	autoPlay
	controls
	muted
	playsInline
	loop
	className="w-full aspect-video"
	src="/images/deploying-codemods/cli/codemod-learn.mp4"
></video>

## Login to Codemod platform

The `login` command can be used to login to the Codemod platform.

```bash
codemod login
```

## Logout from Codemod platform

The `logout` command can be used to logout from the Codemod platform.

```bash
codemod logout
```

## Creating a codemod package

The `init` command can be used to scaffold a new codemod package.

```bash
codemod init
```

## Building a codemod package

The `build` command can be used to build a JavaScript codemod package. If you are using any of the supported JavaScript codemod engines, you can use the CLI to build the main executable file.

```bash
codemod build
```

## Publishing codemods

The `publish` command can be used to publish a codemod to the Codemod Registry. Publishing codemods requires [logging in](#login-to-codemod-platform) to the Codemod platform.

```bash
codemod publish
```

More on publishing codemods [here ->](/codemod-registry/publishing-codemods)

