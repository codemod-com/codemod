---
title: 'Configuration'
description: 'Learn how to configure your codemod project to be compatible with Codemod platform.'
icon: 'wrench'
---

<img
  className="block dark:hidden"
  src="/images/deploying-codemods/hero-light.svg"
  alt="Deploying Codemods hero banner"
/>

<img
  className="hidden dark:block"
  src="/images/deploying-codemods/hero-dark.svg"
  alt="Deploying codemods hero banner"
/>

To make your codemod package compatible with Codemod platform, it needs to have a `.codemodrc.json` configuration file in the project root.
This is also required for publishing the codemod to the Codemod registry.

To scaffold a new codemod project, please refer to the [Getting Started](/building-codemods/getting-started) guide.

### Example working directory structure:

```bash
├── dist
│   ├── index.cjs # this is the default path for the built codemod file. when someone runs your codemod, this file will be executed.
├── src
│   ├── index.ts # this is the default path for the codemod's entry point file.
│   ├── ...
├── .codemodrc.json # contains the codemod configuration
└── README.md # must contain a short description and examples, such as in the example at the bottom of this page
```

You can also specify custom paths for build input and output files in the `.codemodrc.json` file using `build.input` and `build.output` options.
For more information, see the [Codemod.com RC file reference](#codemodrc-json-reference).

See [the README.md file example](#example-readme-file) to learn how to write a good description file for your codemod.


### `.codemodrc.json` reference

<ResponseField name="name" type="string" required>
  A field for your codemod's name. It also determines a name that will be used while [publishing your codemod to the Codemod registry](codemod-registry/publishing-codemods).
</ResponseField>

<ResponseField name="version" type="string" required>
  A field for your codemod's version. It should follow the [semver](https://semver.org/) versioning scheme.
  <Note>You cannot publish a codemod with the same version more than once.</Note>
</ResponseField>

<ResponseField name="private" type="boolean">
  A field to override the publishing behaviour.
  By default, when user is publishing his codemod without a namespace, it will be published as a public codemod.
  If a user publishes a codemod under a namespace, such as `@codemod/my-codemod`, it will default to private.
</ResponseField>

<ResponseField name="engine" type="string" required>
  This field requires a string value that specifies the engine that will be used to run the codemod.
  List of supported engines:
  - `filemod`
  - `jscodeshift`
  - `ts-morph`
  - `ast-grep`
  - `piranha` - requires additional `language` field specified with a value of one of the supported piranha languages
  (`java`, `kt`, `go`, `py`, `swift`, `ts`, `tsx`, `scala`)
  - `recipe` - requires additional `names` field, which is an array of codemods' names that will be executed in the specified order
</ResponseField>

<ResponseField name="include" type="glob pattern array">
  A field which allows to override the default glob pattern for files that will be processed by the codemod.
</ResponseField>

<ResponseField name="applicability" type="object">
  Applicability field is an object with `from` and `to` keys that are both arrays of tuples.
  This field is useful to define what kind of libraries this codemod is migrating from and what is the expected destination version.
  It is possible to use this field to perform a scan on a project and determine if the codemod can be used.

  Each tuple consists of three elements:
  1. a library name
  2. a comparison operator (`<`, `>`, `<=`, `>=`, `=`)
  3. a version number (semver compatible)
</ResponseField>

<ResponseField name="deps" type="array of strings">
  A field that allows you to specify dependencies that will be installed after successful codemod run.
  You can also specify a package to be removed by prepending it with a `-` sign.
  Each dependency should be a string in one of the following formats:
  - `package-name@version`
  - `-package-name`
  - `package-name`
</ResponseField>

<ResponseField name="arguments" type="array of objects">
  If your codemod requires arguments, you can specify them in this field.
  Each argument object should have the following fields:
  - `name` - a string that represents the argument name
  - `description` - a string that describes the argument
  - `kind` - a string that represents the argument type. Supported types are: `string`, `number`, `boolean`
  - `required` - a boolean that specifies if the argument is required
</ResponseField>

<ResponseField name="meta" type="object">
  A field that allows you to specify additional information about your codemod for discoverability purposes.
  It is an object with the following keys:
  - `tags` - an array of strings that represent tags for your codemod
  - `git` - a string that represents a link to the codemod's repository
</ResponseField>

<ResponseField name="build" type="object">
  A field that allows you to specify custom paths for the build input and output files.
  It is an object with the following keys:
  - `input` - a string that represents the path to the input file
  - `output` - a string that represents the path to the output file
</ResponseField>

An example of valid configuration file might look like this:

```json
{
	"name": "my-unique-codemod-name",
	"version": "1.0.0",
	"private": false,
	"engine": "filemod",
	"include": ["**/*.js"],
	"applicability": {
		"from": [["react", ">", "17.0.0"], ["react", "<", "17.1.9"]],
		"to": [["react", "=", "18.0.0"]]
	},
	"deps": ["-jest", "vitest@2.0.0"],
	"arguments": [
		{
			"name": "arg1",
			"description": "Arg number one",
			"kind": "string",
			"required": false
		},
		{
			"name": "arg2",
			"description": "Some other arg",
			"kind": "number",
			"required": true
		}
	],
	"meta": {
		"tags": ["react", "migration"],
		"git": "https://github.com/codemod-com/codemod"
	},
	"build": {
		"input": "src/index.ts",
		"output": "dist/index.cjs"
	}
}
```

### Example README file

```markdown
## Description

This codemod does X, Y, and Z.

## Examples

### Before

// some code

### After

// some code

## Other links

- [Link to the GitHub repository](https://github.com/codemod-com/codemod)
```